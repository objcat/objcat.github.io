# ğŸ ç®€ä»‹

å¤§ä½¬å¼€å‘çš„ä¸€ä¸ªUnityæ¡†æ¶, ç›¸å½“äºä¸€ä¸ªé¡¹ç›®, æˆ‘ä»¬å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šå»å¼€å‘æˆ‘ä»¬è‡ªå·±çš„ä¸œè¥¿

https://github.com/egametang/ET

# ğŸ å¿«é€Ÿå¼€å§‹

æˆ‘è¿™é‡Œé€‰æ‹©äº†ET`8.1`, å‚è€ƒè§†é¢‘å¦‚ä¸‹

https://www.bilibili.com/video/BV1rhYyeKExP

## ğŸŒ² ä¸‹è½½

ç›´æ¥å»å®˜ç½‘, åˆ‡æ¢åˆ†æ”¯åˆ°`8.1`

![](images/Pasted%20image%2020250814234248.png)

ç„¶åç›´æ¥æŠŠé¡¹ç›®ä¸‹è½½ä¸‹æ¥å°±å¯ä»¥äº†, è§£å‹å‡ºæ¥å¤§æ¦‚æ˜¯`84M`

![](images/Pasted%20image%2020250814234413.png)

å¯ä»¥çœ‹åˆ°é‡Œé¢çš„ç›®å½•ç»“æ„æ˜¯è¿™æ ·çš„

![](images/Pasted%20image%2020250814234804.png)

## ğŸŒ² æ‰“å¼€é¡¹ç›®

æˆ‘ä»¬ä½¿ç”¨`Unity`æ‰“å¼€é‡Œé¢çš„`Unity`æ–‡ä»¶å¤¹

![](images/Pasted%20image%2020250815002712.png)

å¦‚æœæç¤ºæˆ‘ä»¬ç‰ˆæœ¬ä¸å¯¹, æˆ‘ä»¬å°±é€‰æ‹©ä»¥å½“å‰ç‰ˆæœ¬æ‰“å¼€å°±å¥½, ç„¶åä¼šæœ‰ä¸€ä¸ªä¿®æ”¹ç‰ˆæœ¬å·çš„æç¤º, ä¸ç”¨ç®¡å®ƒ, ç„¶åå°±å¼€å§‹è½½å…¥äº†

![](images/Pasted%20image%2020250815001132.png)

## ğŸŒ² åŠ è½½åœºæ™¯

æˆ‘ä»¬åŒå‡»`init`

![](images/Pasted%20image%2020250815001453.png)

æˆ‘æ‰“å¼€åæ˜¯è¿™æ ·çš„

![](images/Pasted%20image%2020250815002020.png)

## ğŸŒ² å®‰è£…Rider

https://www.jetbrains.com/zh-cn/rider/

![](images/Pasted%20image%2020250814235146.png)

## ğŸŒ² æ‰“å¼€ET

æ‰“å¼€`Unity`ä¼šç»™æˆ‘ä»¬ä¸‹è½½å¾ˆå¤šçš„åº“, è¿™æ ·ä¸€æ¥æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨`Rider`è¿›è¡Œå¼€å‘äº†, é¦–å…ˆæˆ‘ä»¬æ‰“å¼€ETé¡¹ç›®, åœ¨ç›®å½•ä¸­æ‰¾åˆ°`ET.sln`, è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬æ‰“å¼€å·¥ç¨‹çš„å…¥å£

![](images/Pasted%20image%2020250815002739.png)

æ‰“å¼€åæ˜¯è¿™ä¸ªæ ·å­

![](images/Pasted%20image%2020250815003251.png)

## ğŸŒ² Unity

### ğŸŒ¸ å·¥ç¨‹è®²è§£

æˆ‘ä»¬å…ˆæ¥çœ‹è¿™ä¸ªæ¨¡å—, æ ¹æ®è§†é¢‘è®²è§£, è¿™æ˜¯ä½œè€…ç»™æˆ‘ä»¬æ ¹æ®åŠŸèƒ½åˆ†å‡ºæ¥çš„ä¸åŒçš„`ç¨‹åºé›†`, åœ¨æˆ‘ç†è§£å’ŒJavaä¸­çš„`Maven Module`å·®ä¸å¤š, å°±æ˜¯æ ¹æ®åˆ†å·¥æŠŠä¸€ä¸ªé¡¹ç›®æ‹†æˆä¸€å †å°é¡¹ç›®

- ä¸å®šä¹‰ç›¸å…³çš„æ”¾åœ¨`Model`ä¸­
- ä¸å®ç°ç›¸å…³çš„æ”¾åœ¨`Hotfix`ä¸­
- ä¸è§†å›¾ç›¸å…³çš„å®šä¹‰æ”¾åœ¨`ModelView`ä¸­
- ä¸è§†å›¾ç›¸å…³çš„å®ç°æ”¾åœ¨`HotfixView`ä¸­

ä¸¾ä¸ªä¾‹å­, æˆ‘ä»¬æ‰¾åˆ°

![](images/Pasted%20image%2020250815012037.png)

ç„¶åçœ‹ä¸€ä¸‹å®ƒçš„ä»£ç 

```cs
using UnityEngine;

namespace ET.Client
{
	[ComponentOf(typeof(UI))]
	public class UILoginComponent: Entity, IAwake
	{
		public GameObject account;
		public GameObject password;
		public GameObject loginBtn;
	}
}
```

å®ƒçš„å®ç°å°±åœ¨`Hotfix`ä¸­

![](images/Pasted%20image%2020250815012141.png)

```cs
using UnityEngine;
using UnityEngine.UI;

namespace ET.Client
{
	[EntitySystemOf(typeof(UILoginComponent))]
	[FriendOf(typeof(UILoginComponent))]
	public static partial class UILoginComponentSystem
	{
		[EntitySystem]
		private static void Awake(this UILoginComponent self)
		{
			ReferenceCollector rc = self.GetParent<UI>().GameObject.GetComponent<ReferenceCollector>();
			self.loginBtn = rc.Get<GameObject>("LoginBtn");
			
			self.loginBtn.GetComponent<Button>().onClick.AddListener(()=> { self.OnLogin(); });
			self.account = rc.Get<GameObject>("Account");
			self.password = rc.Get<GameObject>("Password");
		}

		
		public static void OnLogin(this UILoginComponent self)
		{
			LoginHelper.Login(
				self.Root(), 
				self.account.GetComponent<InputField>().text, 
				self.password.GetComponent<InputField>().text).Coroutine();
		}
	}
}
```

### ğŸŒ¸ ç¨‹åºé›†ä¾èµ–

ç¨‹åºé›†ä¹‹é—´æ˜¯å­˜åœ¨ä¾èµ–å…³ç³»çš„, æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹å®ƒçš„ä¾èµ–æ–‡ä»¶

![](images/Pasted%20image%2020250815012954.png)

å¯ä»¥çœ‹åˆ°ä¸€ä¸ªå«åš`Unity.Core.asmdef`çš„, æˆ‘ä»¬æ‰“å¼€

```json
{
    "name": "Unity.Core",
    "rootNamespace": "ET",
    "references": [
        "Unity.ThirdParty",
        "Unity.Mathematics",
        "MemoryPack"
    ],
    "includePlatforms": [],
    "excludePlatforms": [],
    "allowUnsafeCode": true,
    "overrideReferences": false,
    "precompiledReferences": [],
    "autoReferenced": true,
    "defineConstraints": [],
    "versionDefines": [],
    "noEngineReferences": false
}
```

å¯ä»¥çœ‹åˆ°`Core`ä¾èµ–`Unity.ThirdParty`, å…¶ä»–ç¨‹åºé›†çš„ä¾èµ–å…³ç³»ä¹Ÿå¯ä»¥è‡ªå·±çœ‹çœ‹





